<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Tugas 5 - Manajemen Produk</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f7f7f7;
    }
    h2 {
      color: #333;
    }
    .form-box {
      background: #fff;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin-bottom: 15px;
      width: 300px;
    }
    input, button {
      margin: 5px 0;
      padding: 6px;
      width: 95%;
      border: 1px solid #bbb;
      border-radius: 4px;
    }
    button {
      background: #3498db;
      color: white;
      cursor: pointer;
      width: auto;
    }
    button:hover {
      background: #2980b9;
    }
    ul {
      list-style: none;
      padding: 0;
      margin-top: 15px;
    }
    li {
      background: #fff;
      padding: 8px;
      margin-bottom: 6px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <h2>Manajemen Produk</h2>

  <!-- Form tambah produk -->
  <div class="form-box">
    <input type="number" id="idProduk" placeholder="ID Produk">
    <input type="text" id="namaProduk" placeholder="Nama Produk">
    <input type="number" id="hargaProduk" placeholder="Harga Produk">
    <button onclick="eventHandler.tambah()">Tambah Produk</button>
  </div>

  <button onclick="eventHandler.tampil()">Tampilkan Produk</button>
  <button onclick="eventHandler.hapus()">Hapus Produk</button>

  <ul id="daftarProduk"></ul>

  <script>
    // **Data Produk** (minimal 5)
    let produkList = [
      { id: 1, nama: "Laptop", harga: 12000000 },
      { id: 2, nama: "Smartphone", harga: 5000000 },
      { id: 3, nama: "Keyboard", harga: 300000 },
      { id: 4, nama: "Mouse", harga: 150000 },
      { id: 5, nama: "Monitor", harga: 2000000 }
    ];

    // Menambahkan Produk dengan Spread Operator
    function tambahProduk(id, nama, harga) {
      produkList = [...produkList, { id, nama, harga }];
    }

    // Menghapus Produk dengan Rest Parameter
    function hapusProduk(...id) {
      produkList = produkList.filter(p => !id.includes(p.id));
    }

    // Menampilkan Produk dengan Destructuring
    function tampilkanProduk() {
      const ul = document.getElementById("daftarProduk");
      ul.innerHTML = "";
      produkList.forEach(({ id, nama, harga }) => {
        const li = document.createElement("li");
        li.textContent = `${id}. ${nama} - Rp${harga}`;
        ul.appendChild(li);
      });
    }

    // Event handler
    const eventHandler = {
      tampil: () => tampilkanProduk(),
      tambah: () => {
        const id = parseInt(document.getElementById("idProduk").value);
        const nama = document.getElementById("namaProduk").value;
        const harga = parseInt(document.getElementById("hargaProduk").value);

        if (id && nama && harga) {
          tambahProduk(id, nama, harga);
          alert(`Produk ${nama} berhasil ditambahkan!`);
          document.getElementById("idProduk").value = "";
          document.getElementById("namaProduk").value = "";
          document.getElementById("hargaProduk").value = "";
        } else {
          alert("Isi semua data produk!");
        }
      },
      hapus: () => {
        hapusProduk(2); // contoh hapus ID 2
        alert("Produk dihapus!");
      }
    };
  </script>
</body>
</html>
